# Social Media Auto-Responder System - Replit Prompt

## Project Overview
Build a complete web application that automatically monitors and responds to comments on Instagram, Facebook, and YouTube. The system should detect specific keywords in comments and automatically send DMs (Instagram/Facebook) or reply to comments (YouTube).

## Core Features Required

### 1. User Authentication & Platform Connection
- User registration and login system
- OAuth 2.0 integration for:
  - Meta/Facebook (for Instagram & Facebook access)
  - Google (for YouTube access)
- Secure token storage and refresh mechanism
- Multi-account support (users can connect multiple social accounts)

### 2. Dashboard UI
Create a clean, modern dashboard with:
- **Platform Connection Status**: Visual indicators showing which platforms are connected
- **Active Automations Overview**: Cards showing active keyword triggers and their stats
- **Recent Activity Feed**: Real-time log of detected comments and sent responses
- **Analytics Section**: Charts showing response rates, engagement metrics

### 3. Automation Management
Build an intuitive interface for creating/managing automations:
- **Trigger Setup**:
  - Select platform (Instagram, Facebook, YouTube)
  - Choose content type (posts, reels, stories for IG; posts for FB; videos for YT)
  - Define keyword triggers (exact match, contains, regex)
  - Set trigger conditions (all comments, followers only, etc.)
  
- **Response Configuration**:
  - For Instagram/Facebook: DM message template with variable support ({username}, {comment_text})
  - For YouTube: Comment reply template
  - Option for multiple response variations (randomly selected to avoid spam flags)
  - Add delays (0-30 minutes) to appear more human-like

- **Automation Rules**:
  - Enable/disable toggle
  - Schedule (24/7 or specific hours)
  - Rate limiting (max responses per hour/day)
  - Blacklist/whitelist users

### 4. Backend Processing
- Background job processor that:
  - Polls APIs for new comments every 1-5 minutes
  - Matches comments against trigger keywords
  - Queues responses with appropriate delays
  - Handles rate limiting and API quotas
  - Logs all activity
  - Sends webhook notifications for important events

### 5. API Integration Details

#### Instagram & Facebook (Meta Graph API)
- Use Graph API v19.0+
- Required permissions: `instagram_basic`, `instagram_manage_comments`, `instagram_manage_messages`, `pages_manage_metadata`, `pages_read_engagement`
- Endpoints needed:
  - `/{ig-user-id}/media` - Get posts/reels
  - `/{media-id}/comments` - Monitor comments
  - `/{ig-user-id}/messages` - Send DMs
  - Webhook subscriptions for real-time comment notifications

#### YouTube (Data API v3)
- Required scopes: `youtube.readonly`, `youtube.force-ssl`
- Endpoints needed:
  - `commentThreads.list` - Get comments
  - `comments.insert` - Reply to comments
  - Implement efficient polling to stay within 10,000 unit daily quota

### 6. Database Schema
Design tables for:
- `users` - User accounts
- `connected_accounts` - OAuth tokens and platform connections
- `automations` - Automation rules and configurations
- `triggers` - Keyword trigger definitions
- `responses` - Response templates
- `activity_log` - All detected comments and sent responses
- `api_usage` - Track API quota consumption

## Technical Requirements

### Tech Stack
- **Backend**: Python with Flask or FastAPI
- **Frontend**: React with shadcn/ui components
- **Database**: PostgreSQL or SQLite
- **Background Jobs**: Celery with Redis, or APScheduler
- **Authentication**: OAuth 2.0 with secure token storage
- **Styling**: Tailwind CSS

### Key Libraries
```python
# Backend
requests  # API calls
oauthlib  # OAuth handling
celery    # Background jobs
sqlalchemy  # Database ORM
pydantic  # Data validation
python-dotenv  # Environment variables

# APIs
facebook-sdk  # Meta Graph API
google-auth  # YouTube OAuth
google-api-python-client  # YouTube Data API
```

### Security Considerations
- Never store API keys in code (use environment variables)
- Encrypt OAuth tokens in database
- Implement CSRF protection
- Rate limit API endpoints
- Validate all user inputs
- Use HTTPS only

### Environment Variables Needed
```
DATABASE_URL=
SECRET_KEY=
META_APP_ID=
META_APP_SECRET=
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
REDIS_URL=
WEBHOOK_SECRET=
```

## UI/UX Guidelines

### Design System
- Use a modern, minimal design inspired by tools like LinkDM and ManyChat
- Color scheme: Purple/blue accents with clean white backgrounds
- Responsive design (mobile-friendly)
- Dark mode support optional but nice to have

### Key Pages
1. **Landing Page**: Overview of features, pricing info, "Get Started" CTA
2. **Login/Signup**: Clean auth forms with OAuth buttons
3. **Dashboard**: Main hub showing all activity and stats
4. **Automations**: List view + create/edit interface
5. **Activity Log**: Filterable table of all responses sent
6. **Settings**: Account settings, billing, API quota usage
7. **Connect Accounts**: OAuth flow for each platform

### Interactive Elements
- Real-time status indicators (connected/disconnected)
- Toast notifications for actions (automation enabled, response sent)
- Confirmation modals for destructive actions
- Loading states for all async operations
- Empty states with helpful CTAs

## Deployment on Replit

### Replit-Specific Requirements
- Use Replit Database or set up PostgreSQL via Replit
- Configure Replit Secrets for environment variables
- Set up Always On (if available) or use UptimeRobot for pinging
- Use Replit's web hosting for the frontend
- Configure background worker as a separate Replit service

### File Structure
```
/
├── backend/
│   ├── app.py              # Main Flask/FastAPI app
│   ├── models.py           # Database models
│   ├── auth.py             # OAuth handlers
│   ├── tasks.py            # Background jobs
│   ├── api/
│   │   ├── instagram.py    # Instagram API wrapper
│   │   ├── facebook.py     # Facebook API wrapper
│   │   └── youtube.py      # YouTube API wrapper
│   └── utils/
│       ├── validators.py
│       └── helpers.py
├── frontend/
│   ├── src/
│   │   ├── components/     # React components
│   │   ├── pages/          # Page components
│   │   ├── hooks/          # Custom hooks
│   │   └── utils/          # Helper functions
│   └── public/
├── requirements.txt
├── package.json
└── README.md
```

## Success Metrics
- Successfully connect to all three platforms via OAuth
- Monitor comments in real-time (< 2 minute delay)
- Send DMs/replies with keyword matching
- Handle 100+ automations simultaneously
- Stay within API rate limits
- Clean, intuitive UI that requires no technical knowledge

## Important Notes
- META API IS COMPLETELY FREE (no per-request costs)
- YouTube API has 10,000 units/day free quota (plenty for this use case)
- Focus on API quota efficiency - cache results, batch requests where possible
- Implement proper error handling for API failures
- Add retry logic with exponential backoff
- Include comprehensive logging for debugging

Build this as a production-ready SaaS application with clean code, proper error handling, and a polished UI.
